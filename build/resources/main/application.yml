spring:
  application:
    name: ${APP_NAME:staypick-api}
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}

# ======================================================
# üß© Local (Í∞úÎ∞ú) ‚Üí AWS RDS + Upstash Redis
# ======================================================
---
spring:
  config:
    activate:
      on-profile: local

  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://staypick-db.cbmco4g6gjal.ap-southeast-2.rds.amazonaws.com:5432/staypick
    username: staypick
    password: he10042525

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        connection.isolation: 2
    open-in-view: false
    defer-datasource-initialization: false

  data:
    redis:
      url: rediss://default:${UPSTASH_TOKEN}@full-goshawk-6286.upstash.io:6379
      timeout: 20s
      connect-timeout: 10s

server:
  port: 8081

jwt:
  secret: rapidstay-secret-key
  expiration: 3600000

logging:
  level:
    root: INFO
    com.rapidstay: DEBUG


# ======================================================
# üöÄ Prod (Ïö¥ÏòÅ) ‚Üí AWS RDS + EC2 Redis Ïª®ÌÖåÏù¥ÎÑà
# ======================================================
---
spring:
  config:
    activate:
      on-profile: prod

  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
    username: ${DB_USER}
    password: ${DB_PASS}

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
    open-in-view: false
    defer-datasource-initialization: false

  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT}
      password: ${REDIS_PASSWORD}
      timeout: 20s
      connect-timeout: 10s

server:
  port: 8081

jwt:
  secret: rapidstay-secret-key
  expiration: 3600000

logging:
  level:
    root: INFO
    com.rapidstay: INFO
