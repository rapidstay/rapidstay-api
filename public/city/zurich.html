<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>취리히 호텔 추천 | RapidStay</title>
  <meta name="description" content="취리히 인기 호텔, 가족 여행, 반려동물 동반 숙소 모음" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="취리히 호텔 추천 | RapidStay" />
  <meta property="og:description" content="취리히 인기 호텔, 가족 여행, 반려동물 동반 숙소 모음" />
  <meta property="og:image" content="https://rapidstay.link/assets/og/zurich.jpg" />
  <meta property="og:url" content="https://rapidstay.link/city/zurich.html" />
  <meta name="date" content="2025-10-31" />
  <link rel="canonical" href="https://rapidstay.link/city/zurich.html" />
  <meta name="robots" content="index,follow" />
  
  <!-- ✅ 공통 스타일 -->
  <link rel="stylesheet" href="/css/common.css">
  <link rel="stylesheet" href="/css/home.css">
</head>

<body>
  <header>🏨 RapidStay Hotel Search</header>

<div id="hotelSearchForm" autocomplete="on">
<div id="search-bar" style="position: relative; align-items: center;">
    <!-- ✅ 도시 -->
    <div style="position:relative; flex:1;">
      <input type="text" id="city" name="city" placeholder="도시명 (예: Seoul)" autocomplete="off" />
      <div id="autocompletelist"></div>
    </div>

    <!-- ✅ 날짜 -->
    <input type="date" id="checkIn" name="checkIn">
    <input type="date" id="checkOut" name="checkOut">

    <!-- ✅ 객실/인원 -->
    <div class="room-selector">
      <button type="button" id="roomBtn">객실 1개, 성인 2명</button>
      <div class="room-dropdown" id="roomDropdown" style="display:none;">
        <div id="roomList">
          <div class="room-item" data-index="0">
            <div class="room-header">객실 1</div>
            <div class="room-row">
              <span>성인</span>
              <div class="counter">
                <button type="button" class="minus adult">−</button>
                <span class="count adult-count">2</span>
                <button type="button" class="plus adult">＋</button>
              </div>
            </div>
            <div class="room-row">
              <span>아동</span>
              <div class="counter">
                <button type="button" class="minus child">−</button>
                <span class="count child-count">0</span>
                <button type="button" class="plus child">＋</button>
              </div>
              <div class="child-ages"></div>
            </div>
          </div>
        </div>
        <div class="room-controls">
          <button type="button" id="addRoom">＋ 객실 추가</button>
          <button type="button" id="removeRoom">－ 객실 삭제</button>
        </div>
        <button type="button" id="applyRooms">적용</button>
      </div>
    </div>

    <!-- ✅ 검색 버튼 -->
    <button id="searchBtn">검색</button>
  </div>
</div>

<!-- ✅ 인기 여행지 -->
<div id="popularCities">
  <span>인기 여행지:</span>
  <button class="cityQuick" data-city="서울">서울</button>
  <button class="cityQuick" data-city="부산">부산</button>
  <button class="cityQuick" data-city="제주">제주</button>
  <button class="cityQuick" data-city="도쿄">도쿄</button>
  <button class="cityQuick" data-city="방콕">방콕</button>
  <button class="cityQuick" data-city="파리">파리</button>
</div>


<main style="max-width:900px;margin:60px auto;padding:0 20px;">
  <section class="hotel-section">
    <h2>취리히 인기 숙소</h2>
    <div class="scroll-wrapper">
      <button class="scroll-btn left" data-target="hotelList-top">‹</button>
      <div class="horizontal-scroll" id="hotelList-top"></div>
      <button class="scroll-btn right" data-target="hotelList-top">›</button>
    </div>
  </section>

  <section class="hotel-section">
    <h2>가족과 함께하기 좋은 숙소</h2>
    <div class="scroll-wrapper">
      <button class="scroll-btn left" data-target="hotelList-family">‹</button>
      <div class="horizontal-scroll" id="hotelList-family"></div>
      <button class="scroll-btn right" data-target="hotelList-family">›</button>
    </div>
  </section>

  <section class="hotel-section">
    <h2>반려동물 동반 숙소</h2>
    <div class="scroll-wrapper">
      <button class="scroll-btn left" data-target="hotelList-pet">‹</button>
      <div class="horizontal-scroll" id="hotelList-pet"></div>
      <button class="scroll-btn right" data-target="hotelList-pet">›</button>
    </div>
  </section>
</main>


  <footer>ⓒ 2025 RapidStay | Expedia Partner Data 기반</footer>

  <!-- === JS === -->
  <script type="module">
    import { TARGET_CITIES } from "/js/cities.js";
    window.citySlugMap = Object.fromEntries(
      TARGET_CITIES.map(c => [c.display, c.name.toLowerCase()])
    );
  </script>

<script type="module" src="/js/common.js"></script>

<script type="module">
  import { initSearchBar } from "/js/common.js";
  initSearchBar();
</script>

  <script>
    const city = "취리히";
    const BASE_PATH = "/";

    document.addEventListener("DOMContentLoaded", () => {
      const slug = window.citySlugMap?.[city] || city.toLowerCase();

      fetch(`${BASE_PATH}city-data/${slug}-top5.json`)
        .then(res => res.json())
        .then(data => {
          renderHotels(data.topRated, "hotelList-top");
          renderHotels(data.family, "hotelList-family");
          renderHotels(data.petFriendly, "hotelList-pet");
        })
        .catch(err => console.error("❌ 호텔 데이터 로드 실패:", err));

      document.querySelectorAll(".scroll-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          const target = document.getElementById(btn.dataset.target);
          if (!target) return;
          target.scrollBy({
            left: btn.classList.contains("left") ? -target.clientWidth * 0.9 : target.clientWidth * 0.9,
            behavior: "smooth"
          });
        });
      });
    });

function renderHotels(hotels, targetId) {
  // scroll-wrapper 안의 horizontal-scroll를 찾아야 함
  const wrapper = document.getElementById(targetId);
  if (!wrapper) return;

  // wrapper가 이미 horizontal-scroll라면 그대로 사용
  const el = wrapper.classList.contains("horizontal-scroll")
    ? wrapper
    : wrapper.querySelector(".horizontal-scroll");

  if (!el) return;

  if (!hotels?.length) {
    el.innerHTML = "<p style='text-align:center;color:#777;'>표시할 숙소가 없습니다.</p>";
    return;
  }

  const cards = hotels
    .map(
      (h) => `
        <div class="hotel-card">
          <img src="${h.image || "https://picsum.photos/seed/" + encodeURIComponent(h.name) + "/400/250"}" alt="${h.name}">
          <div class="hotel-info">
            <strong>${h.name}</strong>
            <p>📍 ${h.address || h.city}</p>
            <p>⭐ ${h.rating || "4.5"} / 5.0</p>
          </div>
        </div>`
    )
    .join("");

  // ✅ 기존 구조 유지, 카드만 주입
  el.innerHTML = cards;
}

document.addEventListener("click", (e) => {
  const btn = e.target.closest(".scroll-btn");
  if (!btn) return;

  const target = document.getElementById(btn.dataset.target);
  if (!target) return;

  const scroller = target.classList.contains("horizontal-scroll")
    ? target
    : target.querySelector(".horizontal-scroll");

  if (!scroller) return;

  const shift = scroller.clientWidth * 0.9 * (btn.classList.contains("left") ? -1 : 1);
  scroller.scrollBy({ left: shift, behavior: "smooth" });
});


  </script>
</body>
</html>
